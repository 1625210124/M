<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bulut YÃ¶netimli Panel</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <style>
        body {
            margin: 0; font-family: 'Segoe UI', sans-serif;
            min-height: 100vh; color: white; overflow-y: auto; padding: 20px 0;
            display: flex; justify-content: center; align-items: flex-start;
            background: linear-gradient(270deg, #000000, #1a1a1a, #2c2c2c, #121212);
            background-size: 400% 400%; animation: dalgalanma 4s ease infinite;
        }
        @keyframes dalgalanma { 0% {background-position:0% 50%} 50% {background-position:100% 50%} 100% {background-position:0% 50%} }
        .container {
            background: rgba(30, 30, 30, 0.95); padding: 30px; border-radius: 25px;
            backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.1);
            width: 360px; text-align: center; box-shadow: 0 15px 45px rgba(0,0,0,0.8); margin-top: 5vh;
        }
        .mode-btn { width: 100%; padding: 18px; margin: 10px 0; border-radius: 15px; border: none; cursor: pointer; font-size: 16px; font-weight: bold; transition: 0.3s; color: white; }
        .admin-btn { background: #333; border: 1px solid #555; }
        .guest-btn { background: #7d2ae8; box-shadow: 0 4px 15px rgba(125, 42, 232, 0.4); }
        .numpad { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 15px; }
        .num-btn { background: rgba(255,255,255,0.05); color: white; border: 1px solid rgba(255,255,255,0.1); padding: 15px; font-size: 20px; border-radius: 12px; cursor: pointer; }
        .pin-display { height: 55px; background: rgba(0,0,0,0.5); border-radius: 12px; margin-bottom: 15px; font-size: 24px; display: flex; align-items: center; justify-content: center; letter-spacing: 5px; border: 1px solid #444; }
        .admin-item { display: flex; align-items: center; justify-content: space-between; background: rgba(0,0,0,0.3); padding: 12px; border-radius: 15px; margin-bottom: 10px; border: 1px solid rgba(255,255,255,0.05); }
        .preview-box { width: 60px; height: 60px; border-radius: 10px; object-fit: cover; background: #222; }
        iframe { width: 100%; height: 380px; border-radius: 15px; border: none; margin-bottom: 20px; background: #000; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div id="mode-selection" class="container">
        <h2>HOÅž GELDÄ°N</h2>
        <button class="mode-btn admin-btn" onclick="showView('pin-screen')">ðŸ”‘ YÃ¶netici GiriÅŸi</button>
        <button class="mode-btn guest-btn" onclick="loginGuest()">ðŸ‘¤ Misafir GiriÅŸi</button>
    </div>

    <div id="pin-screen" class="container hidden">
        <h2>PIN GEREKLÄ°</h2>
        <div id="display" class="pin-display"></div>
        <div class="numpad">
            <button class="num-btn" onclick="addNum('1')">1</button><button class="num-btn" onclick="addNum('2')">2</button><button class="num-btn" onclick="addNum('3')">3</button>
            <button class="num-btn" onclick="addNum('4')">4</button><button class="num-btn" onclick="addNum('5')">5</button><button class="num-btn" onclick="addNum('6')">6</button>
            <button class="num-btn" onclick="addNum('7')">7</button><button class="num-btn" onclick="addNum('8')">8</button><button class="num-btn" onclick="addNum('9')">9</button>
            <button class="num-btn" style="color:#ff6b6b" onclick="clearPin()">C</button><button class="num-btn" onclick="addNum('0')">0</button>
            <button class="num-btn" style="background:#444" onclick="checkPin()">OK</button>
        </div>
    </div>

    <div id="admin-panel" class="container hidden" style="width: 400px;">
        <h2>YÃ–NETÄ°M</h2>
        <div class="admin-item">
            <img class="preview-box" src="https://drive.google.com/thumbnail?id=1JeJlMHuiowjIvoT_7pnueY9W1H2NFlFs">
            <span>FotoÄŸraf 1</span>
            <input type="checkbox" id="check-photo1" onchange="saveToCloud()">
        </div>
        <div class="admin-item">
            <img class="preview-box" src="https://drive.google.com/thumbnail?id=1vDs3TJlV23wEQaZm3gFUun8S4Fs1cISO">
            <span>FotoÄŸraf 2</span>
            <input type="checkbox" id="check-photo2" onchange="saveToCloud()">
        </div>
        <div class="admin-item">
            <div class="preview-box" style="display:flex;align-items:center;justify-content:center;font-size:10px;">VÄ°DEO</div>
            <span>Video</span>
            <input type="checkbox" id="check-video" onchange="saveToCloud()">
        </div>
        <button class="mode-btn guest-btn" onclick="loginGuest()">GÃ¶rÃ¼nÃ¼mÃ¼ Test Et</button>
    </div>

    <div id="guest-panel" class="container hidden" style="width: 95%; max-width: 550px;">
        <h2 id="g-title">MÄ°SAFÄ°R PANELÄ°</h2>
        <div id="guest-content"></div>
        <button class="mode-btn admin-btn" onclick="location.reload()">Geri DÃ¶n</button>
    </div>

    <script>
        // FOTOÄžRAFTAN ALDIÄžIM KONFÄ°GÃœRASYON
        const firebaseConfig = {
            apiKey: "AIzaSyAKy91n0Ib-Em_YDwwy8odQnrVXq5QFmqA",
            authDomain: "website-6bc19.firebaseapp.com",
            databaseURL: "https://website-6bc19-default-rtdb.firebaseio.com",
            projectId: "website-6bc19",
            storageBucket: "website-6bc19.appspot.com",
            messagingSenderId: "952484790658",
            appId: "1:952484790658:web:38f11b84b05cd7e650cf9b"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        let currentPin = "";
        const correctPin = "162124";

        // BULUTTAN AYARLARI Ã‡EK
        db.ref('settings').on('value', (snapshot) => {
            const data = snapshot.val();
            if(data) {
                document.getElementById('check-photo1').checked = data.photo1;
                document.getElementById('check-photo2').checked = data.photo2;
                document.getElementById('check-video').checked = data.video;
            }
        });

        function saveToCloud() {
            db.ref('settings').set({
                photo1: document.getElementById('check-photo1').checked,
                photo2: document.getElementById('check-photo2').checked,
                video: document.getElementById('check-video').checked
            });
        }

        function showView(id) {
            document.querySelectorAll('.container').forEach(c => c.classList.add('hidden'));
            document.getElementById(id).classList.remove('hidden');
        }

        function addNum(n) { if(currentPin.length < 6) { currentPin += n; updateDisplay(); } }
        function clearPin() { currentPin = ""; updateDisplay(); }
        function updateDisplay() { document.getElementById('display').innerText = "*".repeat(currentPin.length); }

        function checkPin() {
            if(currentPin === correctPin) showView('admin-panel');
            else { alert("HatalÄ± PIN!"); clearPin(); }
        }

        function loginGuest() {
            db.ref('settings').once('value').then((snapshot) => {
                const s = snapshot.val() || {photo1:true, photo2:true, video:true};
                const content = document.getElementById('guest-content');
                content.innerHTML = "";
                if(s.photo1) content.innerHTML += '<iframe src="https://drive.google.com/file/d/1JeJlMHuiowjIvoT_7pnueY9W1H2NFlFs/preview"></iframe>';
                if(s.photo2) content.innerHTML += '<iframe src="https://drive.google.com/file/d/1vDs3TJlV23wEQaZm3gFUun8S4Fs1cISO/preview"></iframe>';
                if(s.video) content.innerHTML += '<iframe src="https://drive.google.com/file/d/11nSTnUshybvI5PdCDmQncHQ4ro9zrXzm/preview"></iframe>';
                showView('guest-panel');
            });
        }
    </script>
</body>
</html>
